# GPUMDkit Scripts

This directory contains all the utility scripts, tools, and workflows for **GPUMDkit**. These scripts are organized by functionality and can be accessed through the main `gpumdkit.sh` interface using either interactive mode or command-line flags.

## Directory Structure

### üìä [plt_scripts/](plt_scripts/README.md)
Python scripts for visualizing data generated by GPUMD and NEP, including:
- NEP training and prediction results
- Thermodynamic properties (temperature, pressure, energy)
- Transport properties (MSD, diffusion coefficients, thermal conductivity)
- Structural analysis (RDF, descriptors, DOAS)
- Various specialized plots (charge distribution, force errors, Arrhenius plots)

**Quick Start:**
```bash
gpumdkit.sh -plt thermo         # Plot thermodynamic data
gpumdkit.sh -plt train          # Visualize NEP training results
gpumdkit.sh -plt msd            # Plot mean square displacement
```

### üîç [analyzer/](analyzer/README.md)
Analysis tools for structure files and simulation data:
- Energy, force, and virial range analysis
- Minimum distance calculations (with/without PBC)
- Structure filtering by various criteria
- Composition analysis
- Time estimation for GPUMD and NEP calculations

**Quick Start:**
```bash
gpumdkit.sh -range train.xyz force      # Analyze force range
gpumdkit.sh -min_dist_pbc model.xyz     # Calculate minimum distance
gpumdkit.sh -analyze_comp train.xyz     # Analyze composition
```

### üßÆ [calculators/](calculators/README.md)
Computational tools for property calculations:
- Ionic conductivity from MSD data
- Property predictions using NEP models
- Descriptor calculations for machine learning
- Density of atomistic states (DOAS)
- NEB (Nudged Elastic Band) calculations

**Quick Start:**
```bash
gpumdkit.sh -calc ionic-cond Li 1              # Calculate ionic conductivity
gpumdkit.sh -calc nep input.xyz output.xyz nep.txt  # Calculate with NEP
gpumdkit.sh -calc des umap train.xyz descriptors.npy nep.txt Li  # Calculate descriptors
```

### üîÑ [format_conversion/](format_conversion/README.md)
Format conversion utilities for structure files:
- VASP (POSCAR/OUTCAR) ‚Üî extxyz
- CP2K output ‚Üí extxyz
- ABACUS output ‚Üí extxyz
- LAMMPS dump ‚Üî extxyz
- CIF ‚Üí POSCAR/extxyz
- Adding group labels and weights

**Quick Start:**
```bash
gpumdkit.sh -out2xyz .                    # Convert OUTCAR files
gpumdkit.sh -pos2exyz POSCAR model.xyz    # POSCAR to extxyz
gpumdkit.sh -addgroup POSCAR Li Y Cl      # Add group labels
```

### üì¶ [sample_structures/](sample_structures/README.md)
Structure sampling and selection tools:
- Uniform and random sampling
- PyNEP-based farthest point sampling
- NEPtrain-based structure selection
- Structure perturbation for training sets
- Maximum force deviation selection

**Quick Start:**
```bash
gpumdkit.sh -pynep dump.xyz train.xyz nep.txt    # PyNEP sampling
python sample_structures.py train.xyz uniform 100  # Uniform sampling
```

### üîß [workflow/](workflow/README.md)
Workflow automation scripts for high-throughput calculations:
- SCF batch preprocessing (VASP, CP2K)
- MD sampling batch preprocessing (GPUMD, LAMMPS)
- Active learning workflows
- Submission script templates

**Quick Start:**
```bash
# Via interactive mode:
gpumdkit.sh
# Select: 3) Workflow
```

### üõ†Ô∏è [utils/](utils/README.md)
Utility scripts for maintenance and convenience:
- Cleaning working directories
- Updating GPUMDkit
- Bash completion support
- Atom renumbering tools

**Quick Start:**
```bash
gpumdkit.sh -clean        # Clean extra files
gpumdkit.sh -update       # Update GPUMDkit
```

## Usage Modes

### Interactive Mode
Launch the interactive menu by running:
```bash
gpumdkit.sh
```
Navigate through numbered menus to access different functionalities.

### Command-Line Mode
Use command-line flags for direct access:
```bash
gpumdkit.sh -h              # Show help information
gpumdkit.sh -plt <type>     # Plotting scripts
gpumdkit.sh -calc <type>    # Calculator scripts
gpumdkit.sh -<flag> [args]  # Direct command execution
```

For detailed help on any command:
```bash
gpumdkit.sh -plt -h         # Plotting help
gpumdkit.sh -calc -h        # Calculator help
```

## Adding New Scripts

To contribute new scripts to GPUMDkit:

1. **Choose the appropriate directory** based on functionality
2. **Follow naming conventions**: Use descriptive snake_case names
3. **Add documentation**: Include docstrings and usage examples
4. **Update the README**: Add your script to the relevant subdirectory README.md
5. **Integrate with gpumdkit.sh**: Add appropriate command-line flags if needed
6. **Test thoroughly**: Ensure your script works in both standalone and integrated modes

See [CONTRIBUTING.md](../CONTRIBUTING.md) for detailed contribution guidelines.

## Dependencies

Different scripts have varying dependencies. Common requirements include:
- **Python 3.x** with packages: `numpy`, `matplotlib`, `ase`
- **Optional**: `calorine`, `pynep`, `ovito` (for specific calculators)
- **Bash** version 4.0 or higher

Check individual subdirectory READMEs for specific requirements.

## Best Practices

1. **Use gpumdkit.sh interface**: Prefer using `gpumdkit.sh -<flag>` over direct script calls for consistency
2. **Check help first**: Use `-h` flag to see available options and syntax
3. **Validate inputs**: Ensure input files exist and are in correct format before running scripts
4. **Save outputs**: Use the `save` parameter where available to preserve plots
5. **Review logs**: Check output messages for errors or warnings

## Support

- **Documentation**: [https://zhyan0603.github.io/GPUMDkit](https://zhyan0603.github.io/GPUMDkit)
- **Issues**: [GitHub Issues](https://github.com/zhyan0603/GPUMDkit/issues)
- **Contact**: Zihan YAN (yanzihan@westlake.edu.cn)

---

Thank you for using GPUMDkit! For more detailed information on each category, please refer to the respective subdirectory README files linked above.
